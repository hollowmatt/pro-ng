{"ast":null,"code":"import { computed } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./static.datasource\";\nclass ProductRepository {\n  constructor(dataSource) {\n    this.dataSource = dataSource;\n    this.products = dataSource.products;\n    this.categories = computed(() => {\n      return this.dataSource.products().map(p => p.category ?? \"(None)\").filter((c, index, array) => array.indexOf(c) == index).sort();\n    });\n  }\n  getProduct(id) {\n    return this.dataSource.products().find(p => p.id == id);\n  }\n}\nProductRepository.ɵfac = function ProductRepository_Factory(t) {\n  return new (t || ProductRepository)(i0.ɵɵinject(i1.StaticDataSource));\n};\nProductRepository.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductRepository,\n  factory: ProductRepository.ɵfac\n});\nexport { ProductRepository };","map":{"version":3,"names":["computed","ProductRepository","constructor","dataSource","products","categories","map","p","category","filter","c","index","array","indexOf","sort","getProduct","id","find","i0","ɵɵinject","i1","StaticDataSource","factory","ɵfac"],"sources":["/Users/hollowmatt/Repo/manning/pro-ng/redo/SportsStore_16/src/app/model/product.repository.ts"],"sourcesContent":["import { Injectable, Signal, computed } from \"@angular/core\";\nimport { Product } from \"./product.model\";\nimport { StaticDataSource } from \"./static.datasource\";\n\n@Injectable()\nexport class ProductRepository {\n    products: Signal<Product[]>;\n    categories: Signal<string[]>;\n\n    constructor(private dataSource: StaticDataSource) {\n        this.products = dataSource.products;\n        this.categories = computed(() => {\n            return this.dataSource.products()\n                .map(p => p.category ?? \"(None)\")\n                .filter((c, index, array) => \n                    array.indexOf(c) == index).sort();\n        })\n    }\n\n    getProduct(id: number): Product | undefined {\n        return this.dataSource.products().find(p => p.id == id);\n    }\n}\n"],"mappings":"AAAA,SAA6BA,QAAQ,QAAQ,eAAe;;;AAI5D,MACaC,iBAAiB;EAI1BC,YAAoBC,UAA4B;IAA5B,KAAAA,UAAU,GAAVA,UAAU;IAC1B,IAAI,CAACC,QAAQ,GAAGD,UAAU,CAACC,QAAQ;IACnC,IAAI,CAACC,UAAU,GAAGL,QAAQ,CAAC,MAAK;MAC5B,OAAO,IAAI,CAACG,UAAU,CAACC,QAAQ,EAAE,CAC5BE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,IAAI,QAAQ,CAAC,CAChCC,MAAM,CAAC,CAACC,CAAC,EAAEC,KAAK,EAAEC,KAAK,KACpBA,KAAK,CAACC,OAAO,CAACH,CAAC,CAAC,IAAIC,KAAK,CAAC,CAACG,IAAI,EAAE;IAC7C,CAAC,CAAC;EACN;EAEAC,UAAUA,CAACC,EAAU;IACjB,OAAO,IAAI,CAACb,UAAU,CAACC,QAAQ,EAAE,CAACa,IAAI,CAACV,CAAC,IAAIA,CAAC,CAACS,EAAE,IAAIA,EAAE,CAAC;EAC3D;;AAhBSf,iBAAiB,C;mBAAjBA,iBAAiB,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,gBAAA;AAAA;AAAjBpB,iBAAiB,C;SAAjBA,iBAAiB;EAAAqB,OAAA,EAAjBrB,iBAAiB,CAAAsB;AAAA;SAAjBtB,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}